# Save and reload the history after each command finishes
# PROMPT_COMMAND="history -n; history -w; history -c; history -r; $PROMPT_COMMAND"

# powerline prompt
# install with the following command:
# if python was installed with brew: $(python3 -m pip install powerline-status)
# else: $(python3 -m pip install --user powerline-status)
if command -v powerline-daemon &> /dev/null; then
    powerline-daemon -q
    POWERLINE_BASH_CONTINUATION=1
    POWERLINE_BASH_SELECT=1
    readonly PKG_PATH=powerline/bindings/bash/powerline.sh
    if [ -f /usr/share/powerline/bindings/bash/powerline.sh ]; then
        . /usr/share/$PKG_PATH
    elif [ -f /usr/local/lib/python3.7/site-packages/$PKG_PATH ]; then
        . /usr/local/lib/python3.7/site-packages/$PKG_PATH
    elif [ -f $HOME/Library/Python/3.7/lib/python/site-packages/$PKG_PATH ]; then
        . $HOME/Library/Python/3.7/lib/python/site-packages/$PKG_PATH
    else
        # could do something like this too
        # site_pkgs=$(pip3 show powerline-status | grep 'Location:' | awk '{ print $2 }')
        echo "Could not find bash/powerline.sh location. Please verify ${BASH_SOURCE[0]}"
    fi
elif command -v git &> /dev/null; then
    # git prompt
    export PROMPT_COMMAND='__git_ps1 "\[\033[01;34m\]\w\[\033[00m\]" "\[\033[01;36m\]$\[\033[00m\] "'
else
    echo foobar
fi
